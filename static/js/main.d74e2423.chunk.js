(this["webpackJsonphold-em"]=this["webpackJsonphold-em"]||[]).push([[0],{237:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},256:function(e,t){},279:function(e,t){},281:function(e,t){},357:function(e,t){},359:function(e,t){},392:function(e,t){},397:function(e,t){},399:function(e,t){},406:function(e,t){},419:function(e,t){},437:function(e,t){},444:function(e,t){},446:function(e,t){},454:function(e,t){},456:function(e,t){},470:function(e,t){},531:function(e,t,n){},532:function(e,t,n){"use strict";n.r(t);var a,c,s=n(4),r=n.n(s),i=n(226),o=n.n(i),u=n(89),l=n(13),d=n(19),p=n(14),b=n.n(p),j=n(37),f=n(17),m=(n(237),n(1)),h=function(e){var t=e.account,n=function(){var t=Object(j.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.connectWallet();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"header",children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"header-top",children:[Object(m.jsx)(u.b,{to:"/",className:"text-logo",children:"Web3 FE"}),Object(m.jsx)("button",{className:"connect-wallet text-center truncate",onClick:function(){return n()},children:t?"Connected to ".concat(t):"Connect wallet"})]})})})})},O=(n(243),function(e){return Object(m.jsx)("div",{className:"footer",children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("div",{className:"fo fo-left",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://rinkeby.etherscan.io/address/0xc778417e063141139fce010982780140aa0cd5ab#code",target:"_blank",children:"Contract"})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://opensea.io",target:"_blank",children:"Opensea"})})]})}),Object(m.jsx)("div",{className:"fo fo-right",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://twitter.com",target:"_blank",children:"Twitter"})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://discord.gg",target:"_blank",children:"Discord"})})]})})]})})})})}),x=function(){var e=window.ethereum;return"undefined"===typeof e?(console.log("ethereum undefined"),!1):e},y=(n(244),[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"}]),g=n(73),v=n.n(g),w={component:function(e){var t=Object(s.useState)(null),n=Object(f.a)(t,2),r=n[0],i=n[1],o=Object(s.useState)(0),u=Object(f.a)(o,2),l=u[0],d=u[1],p=Object(s.useState)(0),g=Object(f.a)(p,2),w=g[0],N=g[1],k=Object(s.useState)(""),S=Object(f.a)(k,2),C=S[0],M=S[1],W=Object(s.useState)(null),T=Object(f.a)(W,2),B=T[0],E=T[1],F=Object(s.useState)({}),J=Object(f.a)(F,2),H=J[0],P=J[1],D=Object(s.useState)(0),A=Object(f.a)(D,2),_=A[0],q=A[1],G=Object(s.useState)(0),I=Object(f.a)(G,2),L=I[0],Q=I[1],R=Object(s.useState)(null),K=Object(f.a)(R,2),z=K[0],U=(K[1],Object(s.useState)(null)),V=Object(f.a)(U,2),X=V[0],Y=V[1],Z=Object(s.useState)(null),$=Object(f.a)(Z,2),ee=$[0],te=$[1],ne=Object(s.useState)(null),ae=Object(f.a)(ne,2),ce=ae[0],se=ae[1],re=Object(s.useState)(null),ie=Object(f.a)(re,2),oe=ie[0],ue=ie[1],le=Object(s.useState)(null),de=Object(f.a)(le,2),pe=de[0],be=de[1],je=Object(s.useState)(""),fe=Object(f.a)(je,2),me=fe[0],he=fe[1],Oe=Object(s.useState)(null),xe=Object(f.a)(Oe,2),ye=xe[0],ge=xe[1],ve=window.ethereum,we=function(){try{if("undefined"===typeof ve)E(Object(m.jsxs)("p",{children:["Not connected to a Web3 Wallet. ",Object(m.jsx)("br",{})," Please install and enable MetaMask."]}));else a=new v.a(ve),ve.request({method:"eth_requestAccounts"}).then((function(e){e.length&&(E(null),P({}),i(e[0]),ke(e[0]),Ce())})).catch((function(e){var t=JSON.stringify(e);P(JSON.parse(t))}))}catch(t){if(t){var e=JSON.stringify(t);E("".concat(JSON.parse(e).message," Or reload page and connection again."))}}},Ne=function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x()&&(a=new v.a(x()),x().request({method:"eth_requestAccounts"}).then((function(e){e.length&&(E(null),P({}),i(e[0]),ke(e[0]),Ce(),c=new a.eth.Contract(y,"0xc778417e063141139fce010982780140aa0cd5ab"),Se(e[0]))})).catch((function(e){var t=JSON.stringify(e);P(JSON.parse(t))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(e){a.eth.getBalance(e,(function(e,t){if(e)console.log(e);else{var n=a.utils.fromWei(t,"ether");d(n)}}))},Se=function(){var e=Object(j.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.methods.balanceOf(t).call();case 2:n=e.sent,s=a.utils.fromWei(n+"","ether"),N(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){a.eth.net.getId().then((function(e){M(function(e){switch(e){case 1:return"Mainnet";case 3:return"Ropsten";case 4:return"Rinkeby";case 5:return"Goerli";case 42:return"Kovan"}}(e))})).catch((function(e){console.log("getNetwork",e)}))},Me=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se("Querying..."),be(null),e.next=4,a.eth.getBlockNumber();case 4:return t=e.sent,e.next=7,c.getPastEvents("Transfer",{fromBlock:t-100,toBlock:"latest"});case 7:(n=e.sent)&&(be(JSON.stringify(n)),se(null));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue("Open console.log for view listen transfer."),e.next=3,a.eth.getBlockNumber();case 3:t=e.sent,c.events.Transfer({fromBlock:t-100},(function(e,t){console.log(t)})).on("data",(function(e){return console.log("event: ",e)})).on("changed",(function(e){return console.log("changed: ",e)})).on("error",(function(e){return console.log("error: ",e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.methods.balanceOf(me).call();case 3:t=e.sent,n=a.utils.fromWei(t+"","ether"),ge(n),console.log(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),ge(null),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){Ne(),ve&&(a=new v.a(ve),ve.on("accountsChanged",(function(e){e.length?(i(e[0]),ke(e[0]),Ce()):i(null)}))),ve&&r&&(a=new v.a(ve),ve.on("chainChanged",(function(e){ke(r),Ce()})))}),[r]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h,{connectWallet:function(){r||we()},account:r}),Object(m.jsx)("div",{className:"home-page bg-dark",children:Object(m.jsx)("div",{className:"content",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"wrap-content",children:[Object(m.jsx)("img",{src:"images/metamask-fox.png",alt:"metamask"}),x()?Object(m.jsxs)(m.Fragment,{children:[!r&&Object(m.jsx)("div",{className:"err-message text-center text-orange",children:"Please connect wallet to use."}),B&&Object(m.jsx)("div",{className:"err-message text-center text-orange",children:B}),H.message&&Object(m.jsx)("div",{className:"err-message text-center text-orange",children:H.message}),ve&&r?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"account-info",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"label",children:"-ETH Balance:"}),l," ETH"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"label",children:"-WETH Balance:"}),w," ETH"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"label",children:"-Network:"}),C]})]}),Object(m.jsx)("button",{onClick:function(){return Te()},children:"Get Balance"}),Object(m.jsx)("button",{onClick:function(){return Me()},children:ce||"Query Transfer"}),Object(m.jsx)("button",{onClick:function(){return We()},children:"Listen Transfer"}),Object(m.jsx)("button",{onClick:function(){return function(){var e=a.utils.toWei(_+"","ether");console.log(r),c.methods.deposit().send({from:r,value:e}).on("sent",(function(e){Y("Desposit processing, Please wait... ")})).on("receipt",(function(e){Y("Deposit Complete")})).on("error",(function(e){E(e.message)}))}()},children:"Deposit ETH"}),Object(m.jsx)("button",{onClick:function(){return function(){var e=a.utils.toWei(L+"","ether");c.methods.withdraw(e).send({from:r}).on("sent",(function(e){te("Withdraw processing, Please wait... ")})).on("receipt",(function(e){var t=e&&e.transactionHash;te("Withdraw Complete, Transaction Hash: ".concat(t))})).on("error",(function(e){E(e.message)}))}()},children:"Withdraw ETH"}),Object(m.jsxs)("div",{className:"deposit action",children:[Object(m.jsx)("span",{className:"label",children:"Desposit Amount: "}),Object(m.jsx)("input",{type:"number",step:"0.01",value:_,onChange:function(e){return function(e){q(e.target.value)}(e)}})]}),Object(m.jsxs)("div",{className:"withdraw action",children:[Object(m.jsx)("span",{className:"label",children:"Withdraw Amount: "}),Object(m.jsx)("input",{type:"number",step:"0.01",value:L,onChange:function(e){return function(e){Q(e.target.value)}(e)}})]}),Object(m.jsxs)("div",{className:"get-balance action",children:[Object(m.jsx)("span",{className:"label",children:"Get Balance: "}),Object(m.jsx)("input",{style:{width:"335px"},type:"text",placeholder:"input address",value:me,onChange:function(e){return function(e){he(e.target.value)}(e)}}),Object(m.jsxs)("span",{children:[" ",ye||""," "]})]}),Object(m.jsx)("div",{className:"query-data",children:pe||""}),z&&Object(m.jsx)("div",{className:"err-message text-center text-orange",children:z}),X&&Object(m.jsx)("div",{className:"info-message",children:X}),ee&&Object(m.jsx)("div",{className:"info-message",children:ee}),oe&&Object(m.jsx)("div",{className:"info-message",children:oe})]}):null]}):Object(m.jsxs)("div",{className:"err-message text-center text-orange",children:["Not connected to a Web3 Wallet. ",Object(m.jsx)("br",{})," Please install and enable MetaMask."]})]})})})}),Object(m.jsx)(O,{})]})}};n(531),Object(d.a)();var N=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(u.a,{basename:window.location.pathname||"",children:Object(m.jsx)("div",{className:"app-content",children:Object(m.jsx)(l.a,{exact:!0,path:"/",component:w.component})})})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,536)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),k()}},[[532,1,2]]]);
//# sourceMappingURL=main.d74e2423.chunk.js.map